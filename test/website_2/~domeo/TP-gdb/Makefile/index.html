#
# Makefile Simplifie
#
# TP Gdb
#
# Application : tri
#


# Mise a jour automatique
#
# KEEP_STATE permet la verification automatique des dependances
# et des options de compilation (ne PAS faire "make depend").
#
.KEEP_STATE:

#
# Choix du compilateur et de l'editeur de liens
# (le compilateur doit etre ANSI C)
#
CC		= gcc
LD		= $(CC)

#
# Flags de compilation et d'edition de liens
# (l'option -g permet de debugger le programme, l'option -O sert a optimiser)
#
CFLAGS		= -g
LDFLAGS		=

#
# Bibliotheques eventuelles
#
LDLIBS		=

#
# Fichiers : sources, objets, executable
#
SRCS		= tri.c donnees.c
OBJS		= tri.o donnees.o
EXEC		= tri

#
# Regle de dependance pour la production de l'application
#
$(EXEC):	$(OBJS)
		$(LD) $(CFLAGS) $(CPPFLAGS) $(LDFLAGS) -o $@ $(OBJS) $(LDLIBS)

#
# Creation des dependences includes
#
depend:
		makedepend $(SRCS)

#
# Suppression des dependences
#
undepend:
		@makedepend -s "# DO NOT DELETE THIS LINE"

#
# References croisees
#
tags:
		ctags $(SRCS)

#
# Nettoyage
#
clean:
		-@$(RM) $(OBJS) print core 1>/dev/null 2>&1

clean-all:	clean undepend
		-@$(RM) tags *.tar *.gz *.Z *.uu *.bak *% *~1>/dev/null 2>&1

#-------------------------------------------------------------------------------
# DO NOT DELETE THIS LINE -- make depend depends on it.
