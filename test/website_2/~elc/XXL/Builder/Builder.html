<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<title>Using the XXL Visual Builder</title>
</head>

<body bgcolor="#ffffff">

<p>
<table cellspacing=7  cellpadding=7 border=0>
<tr valign=top>
<td align=right>
<a href="http://www.enst.fr/~elc/XXL">
<img src="http://www.enst.fr/~elc/XXL/xlicon.gif">
</a>
<td align=left>
<h3>XXL: A Dual Approach for Building User Interfaces</h3>
<h1><i>Using the XXL Visual Builder</i></h1>
<h3>
<a href="http://www.enst.fr/~elc">Eric Lecolinet</a>
<a href="mailto:Eric.Lecolinet@enst.fr">(elc@enst.fr)</a>
</h3>

</table>
<td align=left><img src="//www.enst.fr/gif/lignes/rouj.gif">
<td align=left><img src="//www.enst.fr/gif/lignes/rouj.gif">
<p>
<h2>Contents</h2>
<ul>
<li>1.  <a href="#BasicConcepts">Basic Concepts</a>
<li>2.  <a href="#NewInterfaces">Building New Interfaces from Scratch</a>
<li>3.  <a href="#GraphView">Editing the Graph View (Changing the Links)</a>
<li>4.  <a href="#Properties">Editing Widget Properties</a>
<li>5.  <a href="#Layout">Layout (Geometry Management)</a>
<li>6.  <a href="#Behaviors">Specifying Behaviors</a>
<li>7.  <a href="#TextView">Editing the Text View</a>
<li>8.  <a href="#Saving">Saving an Interface</a>
<li>9.  <a href="#Loading">Loading an XXL Script or a C/C++ Program</a>
<li>10. <a href="#Panic">Don't Panic Section and Other Tips</a>
</ul>

<td align=left><img src="//www.enst.fr/gif/lignes/rouj.gif">
<p>

<a name=BasicConcepts>
<h2>1.  Basic Concepts</h2>
</a>
<h3>Three-View Edition</h3>
<p>
The XXL Visual Builder is based on a 3-view paradigm:
<ul>
<li>
the <b>Widget View</b> shows the graphical user interface(s) (GUIs)
<li>
The <b>Text View</b> shows the source code that corresponds
to the active GUIs,
<li>
The <b>Graph View</b> is an abstract iconic representation of the GUIs
</ul>
All three views are <b>linked together</b> and are updated 
in an <b>incremental way</b>.

<img hspace=5 src="http://www.enst.fr/~elc/XXL/Builder/graph.gif">
<p>
Most user interaction will take place on the <b>Graph View</b> 
(which is fully editable: see Section 3: <a href="#GraphView">Editing the Graph View</a>). 
GUIs in the <b>Widget View</b> look exactly the same as if they were executed
in a normal way without using the XXL Builder. They are always located
in separate windows.

<p>
<img hspace=150 src="http://www.enst.fr/~elc/XXL/Builder/text.gif">
<p>

<h3>Text View</h3>
<p>
The source code is <b>generated in real time</b> in the  <i>Text View</i>.
<b>XXL</b> provides an <b>isomorphic representation</b> of the GUI:
the <i>Text View</i> and the <i>Graph View</i> are equivalent representations
that are updated simultaneously.
<p>
The <i>Text View</i> is only displayed upon request.
The source code can be modified
interactively by editing the <i>Text View</i> as will be explained in
Section 7: <a href="#TextView">Editing the Text View</a>.

<h3>Script and C/C++ Programs</h3>
<p>
The <b>XXL Builder</b> can be used to produce new interfaces or to re-edit
preexisting <b>XXL Script</b> files and/or one <b>C</b> or <b>C++</b> program.
Conversely, new interfaces can either be saved as Script or as C files.
These capabilities are explained in Section 8 and 9:
<a href="#Saving">Saving an Interface</a>
and
<a href="#Loading">Loading a Script or a C/C++ Program</a>.
The next sections only describe how to construct a new interface from scratch.

<h3>Liveness: No Building and Testing Phases</h3>
<p>
There are no "building" and "testing" phases: the GUIs displayed in the Widget View
are <b>always active</b> and the user can interact with them in the usual way.
When editing C or C++ programs, the <i>Widget View</i> is 
<b>modified dynamically</b> while the program is running.
<p>

<h3>Selection</h3>
<p>
Objects can be selected by clicking in an appropriate way (see below) on any of their
three views (when applicable: certain abstract XXL objects do not have a visible representation
in the <i>Widget View</i>). The two other views are then automatically highlighted
(the Graph View and the Text View are highlighted in a permanent way, while the
Widget View is only highlighted while the mouse is pressed).
<p>
As Widgets always remain active, they cannot be selected by just clicking on them
(for instance, simple clicking on a Push Button would activate this button 
(its standard behavior!) rather than selecting it). So, <b>XXL</b> objects must be selected
in the following way:
<ul>
<li>
by <b>control-</b>clicking on the <b>widgets</b> contained in the <i>Widget View</i>
<li>
by (simple or control-) clicking on the <b>icons</b> of the <i>Graph View</i>
<li>
by (simple or control-) clicking on corresponding <b>source code</b> in the <i>Text View</i>
</ul>
<b>! Note</b> : clicking must be performed by using mouse button 1 (usually the
<b>left</b> button). Pushing or clicking the other mouse buttons have other meanings
that will be explained in the following sections.

<p><img src="//www.enst.fr/gif/lignes/rouj.gif">

<a name="NewInterfaces">
<h2>2.  Building New Interfaces from Scratch</h2>
</a>
<h3>Basics</h3>
<ul>
<li>
click on the <b>New Interface</b> button located in the <i>left panel</i>
of the Builder (Fig. 1).
<p><li>
a dialog box asking for the name of this new interface will then appear.
Note that this name must be a valid <b>C</b> identifier.
<p>
<img hspace=150  src="http://www.enst.fr/~elc/XXL/Builder/inter.gif">
<p><li>
A new icon will then appear in th <i>Graph View</i>. This icon "represents"
and encapsulates the new interface.
Simultaneously, an empty window will appear somewhere on the screen.
This window will contain the widgets of the GUI you are going to construct.
<p><li>
you may now create various <b>XXL</b> objects by clicking (once) on the 
names of the <b>object classes</i> (located in the <i>left panel</i>)
<p><li>
By default, (and whenever possible) new objects are always created as children
of the <b>last selected</b> object (which is
highlighted in the <i>Graph View</i>).
in such a case:
<ul>
<li>
a <b>new icon</b> is created in the <i>Graph View</i> and this icon is automatically
linked to its parent (an arrow indicates this link)
<li>
a <b>new widget</b> is added to the GUI at the appropriate location (when applicable)
</ul>
<p>
<img hspace=200  src="http://www.enst.fr/~elc/XXL/Builder/link.gif">
<p><li>
<b>Exceptions</b> to the previous rule:
new objects are <b>not</b> implicitly linked when:
<ul>
<li>
no object was previously selected
<li>
(selected) parent object and (newly created) child object have incompatible
classes.
</ul>
<p>
No widget is created in this case.
Objects must always be linked to "something" (that is ultimately linked 
to an <b>Interface</b> object) in order to make corresponding widgets 
actually exist).
</ul>
<b>! Note</b> that <b>Interface</b> objects can have <b>only one</b> 
Widget child. This immediate child must be a Box (i.e. a Motif Manager), 
a Dialog Box or a Shell Window.
<b>Interface</b> objects must always be at the top of the object tree 
(they can not have parents
and are responsible for the realization of the actual widgets of 
contained in the GUI).

<p><h3>Default Selection</h3>
<ul>
<li>
There is at most one selected object. Its corresponding icon is "highlighted" (background
and foreground colors are inverted).
<p><li>
The selected object can change automatically when creating new objects
(for instance Motif "Manager" widgets are always implicitly selected).
<p><li>
as said before, you can also explicitly select an object:
<ul>
<li>
by clicking with mouse button 1 (usually the left button) on its icon 
<li>
by clicking on its text, when visible
<li>
by <b>control-</b>clicking on its corresponding widget (when any).
</ul>
<p><li>
you can explicitly De-select all objects by clicking in the background
white area of the <i>Graph View</i>
</ul>

<p><h3>Adding or Changing Links Between Object Icons</h3>
See next Section 3: <a href="#GraphView">Editing the Graph View</a>.

<p><h3>Changing the Object Name</h3>
<p>
A new name is automatically computed at the object creation time.
This name can be changed once the object has been created by:
<ul>
<li>
selecting this object (if not already)
<li>
changing the <b>object name</b> displayed in the <b>Infobox</b> 
(located below the Menu Bar)
<li>
validating this change by pressing the <i>Enter</i> or <i>Return</i> keys
</ul>
<b>! Note</b> that certain types of <b>XXL</b> objects do not have a name
(but Widget objects always have one).
<p>
<img src="http://www.enst.fr/~elc/XXL/Builder/infobox.gif">
<p>

<h3>Changing the Object Class</h3>
<p>
The object class can also be changed once the object has been created.
This can be done in the same way by changing the <b>class name</b>
in the <b>Infobox</b>.
<p>
<b>! Note</b> that changing object class may lead to errors if the new object 
is not compatible with the children and/or the parents that were already 
linked to it (errors will be detected and listed to the user and offending 
links will automatically be removed).

<p><img src="//www.enst.fr/gif/lignes/rouj.gif">

<a name="GraphView">
<h2>3.  Editing the Graph View (Changing the Links)</h2>
</a>
<p>
The <i>Graph View</i> is fully editable: objects can be selected, moved, 
edited and links between objects can also be changed interactively.
Depending on the object class, icons may contain all or some of the following 
areas:
<p>
<img hspace=100  src="http://www.enst.fr/~elc/XXL/Builder/icon.gif">
<p>
<b>! Note</b> that the <b>color</b> of the icons indicate the <b>meta-class</b>
of the corresponding objects (for instance, <i>Interface icons</i> have a specific 
color, <i>Widget icons</i> have a different one and so on).

<h3>Selecting Icons</h3>
<ul>
<li>
Push or click with <b>any</b> Mouse Button on the <b>name area</b> to <b>select</b>
icons
</ul>
<b>! Note : </b>remember that you can also select objects by clicking on their text 
or <b>Control-</b>clicking on their corresponding widget (refer to Section 1: 
<a href="#BasicConcepts">Basic Concepts</a>).

<h3>Moving Icons</h3>
<ul>
<li>
Push with Mouse Button 1 (<b>left</b> button) on the <i>name area</i> 
to <b>move</b> icons
<li>
Push with Mouse Button 2 (<b>middle</b> button) to move the icon 
<b>and its children</b> (this will move the whole subtree of objects)
</ul>

<img hspace=200 src="http://www.enst.fr/~elc/XXL/Builder/menu.gif">

<h3>Opening the Icon Menu</h3>
<p>
A pop up menu is associated to each kind of icon. What this menu actually contains
depends on the meta-class of the corresponding XXL object. To open this menu:
<ul>
<li>
Push with Mouse Button 3 (<b>right</b> button) on <i>name area</i> 
to open the <b>icon menu</b>
</ul>

<h3>Deleting Links</h3>
<p>
To delete incoming links (i.e. links that are coming from one or 
several parents):
<ul>
<li>
Push with Mouse Button 3 (<b>right</b> button) on the icon to open 
its associated pop up menu
<li>
Then click on the <b>Unlink</b> button
</ul>
Alternate way: Select icon then type <b>Control-K</b>

<h3>Adding Links</h3>
You can add children to most objects in the following way:
<ul>
<li>
Push with Mouse Button 1 (<b>left</b>) on the <b>child area</b> of the (parent) icon
<li>
Move the mouse while keeping Button 1 pressed (an arrow that materializes
the link will appear and follow the mouse)
<li>
<b>Release</b> Button 1 on the <b>(child) icon</b> you want to link to the parent icon.
</ul>
A permanent arrow will be drawn from the parent icon to the child icon 
if the operation has succeeded. Otherwise:
<ul>
<li>
the Builder will display an error message if these two objects have 
incompatible classes and can not be linked together
<li>
you did not drop the mouse at the right place : try again !
</ul>
<b>! Note :</b> certain classes of objects cannot have children 
(and thus, they have no <b>child area</b>).

<h3>Moving Links</h3>
Moving icons may change the relative order of the links of the child
objects. This will automatically:
<ul>
<li>
change the order of the corresponding objects in the source code
<li>
change the ordering of widgets in the <i>Widget View</i> if the parent widget
is a Motif <b>RowColumn</b> (or any variant such as Menus, RadioBoxes, etc.).
</ul>

<h3>Minimizing and Maximizing Sub-Hierarchies</h3>
<img hspace=150 src="http://www.enst.fr/~elc/XXL/Builder/minmax.gif">
<p>
<b>Double clicking</b> on the <b>child area</b> of the  icon alternatively 
<b>minimizes</b> and <b>maximizes</b> its children (the whole subtree 
will alternatively be hidden or shown).
<p>
Alternate way: Select icon then type <b>Control-M</b>

<h3>Changing the Object Name and Class</h3>
<p>
This can be done by changing the Class and Name of the selected object
in the <b>Infobox</b> (see Section 2: 
<a href="#NewInterfaces">Building New Interfaces from Scratch</a>).

<h3>Redraw and Refresh</h3>
<p>
To <b>Redraw</b> a single hierarchy (or sub-hierarchy): 
<ul>
<li>Open the<b>Icon Menu</b> (<b>right</b> button on icon) then click on <b>Redraw</b>
<li>or: Select icon then type <b>Space</b>
</ul>
To <b>Refresh</b> the whole <i>Graph View</i>:
<ul>
<li>Open the <b>Graph View Menu</b> (<b>right</b> button on background) 
then click on <b>Refresh</b>
<li>or: Open <b>File Menu</b> then click on <b>Refresh</b>
<li>or:  Type <b>Control-F</b>
</ul>

<p><img src="//www.enst.fr/gif/lignes/rouj.gif">

<a name="Properties">
<h2>4.  Editing Widget Properties</h2>
</a>
<p>
The <b>XXL Builder</b> provides a complete <b>Resource Editor</b> that 
can show and modify interactively almost all the resources of Motif widgets.
To edit Widget Resources:
<ul>
<li>
push with Mouse Button 3 (<b>right</b> button) on the icon to open its associated 
pop-up menu,
<li>
then click on <b>Resources</b> (or Properties)
</ul>
Alternate ways: Select icon then type <b>Control-R</b>, or open <b>View Menu</b>
then click on <b>Resources</b>.
<p>
<b>! Note</b> : once opened, the Resource Editor will automatically be updated
each time another Widget object is selected.
<p>

<img hspace=130 src="http://www.enst.fr/~elc/XXL/Builder/resedit.gif">

<p>
Resource specifications are stored in two kinds of XXL Objects:
<ul>
<li>
<b>Args</b> objects are used to specify resources at <b>widget creation time</b>
<li>
<b>Set</b> objects are used to <b>modify resources</b> once the widget
is created
</ul>
In other words, <b>Args</b> objects constitute the normal way for 
<b>initializing</b> Widget resources while <b>Set</b> objects are mainly 
used for specifying <b>dynamic behaviors</b>
(see Section 6: <a href="#Behaviors">Specifying Behaviors</a>).
<p>
Both kinds of objects can store a <b>list</b> of resource specifications.
These objects must be linked as children of the Widget object(s) they
are supposed to apply on. They can be <b>shared</b> by several Widget objects
(they can have several Widget parents) thus allowing to
apply the same resource specifications to a group of Widgets.
<p>
The Resource Editor automatically manages (creates and updates)
<b>Args</b> and <b>Set</b> objects (note that Args objects are used
by default, but this can be changed if needed).
At last, these objects can also be modified by changing their source
code directly (see Section 7: <a href="#TextView">Editing the Text View</a>).
<p>
<b>Note:</b> that certain Motif resources cannot be changed dynamically 
once the widget has been created (this is indicated in the Motif Reference 
Manual).
Such resources must only be specified by means of "Args" objects.
<p>

<p><img src="//www.enst.fr/gif/lignes/rouj.gif">

<a name="Layout">
<h2>5.  Layout (Geometry Management)</h2>
</a>
<p>
XXL simplifies the way to deal with the geometry management capabilities of 
the underlying toolkit. In Motif interfaces, geometry is ensured by specialized widgets, 
called <b>Geometry Managers</b> that can control the layout 
of their child widgets in three different ways as explained in the following subsections.
These three cases are handled differently by the <b>XXL Builder</b>.

<h3>Explicit Geometry (BulletinBoard and DrawingArea)</h3>
<p>
These managers do not control automatically the geometry of their children. 
Geometry is then set by direct manipulation:
<ul>
<li>
by Control-Pushing with Mouse Button 1 (<b>left</b> button) to set <b>position</b>
<li>
by Control-Pushing with Mouse Button 2 (<b>middle</b> button) to set <b>size</b>
</ul>
Note that these values can also be set textually in the Resource Editor.

<h3>Implicit Geometry (RowColum, Menus and variants)</h3>
<p>
The child widgets are automatically aligned in a row, a column, or a matrix.
Their size is computed dynamically and their physical position 
depends on their rank in the widget tree. 
<p>
The XXL Builder ensures this correspondence <b>dynamically</b>:
this means that the <b>ordering of widgets</b> is dynamically changed
in the Widget View when changing the left-to right order of  the
<b>corresponding icons</b> in the Graph View (by moving them with the mouse).
<p>
Note that the order of the XXL descriptions in the source code (in the Text View)
are also changed when moving the icons in the Graph View.

<h3>Constrained Geometry (Form Widget)</h3>
<p>
The children can be attached one to another, or to a virtual and elastic grid.
XXL offers a special-purpose object (called <b>Attach</b>) to specify such constraints 
and a specialized editor to configure them interactively in the Builder.
To open this editor:
<ul>
<li>Open the <b>Resource Editor</b>
<li>Select the <b>Geometry</b> filter
<li>Click on <b>Geometry Constraints</b>
</ul>
<p>
Such constraints can also be specified <i>textually</i> as follows:
<pre><tt>
	 (Attach, 
		 "menubar",  "top:FORM,    left:FORM, right:FORM",
		 "message",  "top:menubar, left:FORM, right:FORM",
		 "scrollbox","top:message, left:FORM, right:FORM, bottom:FORM",
	 o)
</tt></pre>
Each line specifies top, left, right and bottom attachments to another widget, 
to a relative position in the Form or to the enclosing frame.
<p>

<p><img src="//www.enst.fr/gif/lignes/rouj.gif">

<a name="Behaviors">
<h2>6.  Specifying Behaviors</h2>
</a>

<h3>Callback Editor</h3>
<p>
Call-back functions can be registered by adding <b>Callback</b> objects 
to Widget objects (Callback objects must be linked as children of the Widget 
objects they are relative to). These objects provide a way to specify
a callback function call, that is to say:
<ul>
<li>when the function will be called
<li>which C function will be called
<li>which data will be passed to this function (as a "client_data" argument)
</ul>
The first field is a Motif resource name that specifies which kind of events
will automatically provoke a function call. We will call it a callback
<b>condition</b>.
<p>
Callback <b>conditions</b> can be changed 
by modifying the <b>Name</b> field in the <b>Infobox</b> (see section 2).
Callback objects can be freely attached or detached to Widget objects
and their source code can interactively be changed (like for other 
XXL objects) through the Text View (see Section 7:
<a href="#TextView">Editing the Text View</a>).

<p>
At last, they can also be set by invoking the <b>Resource Editor</b> 
in the following way:
<ul>
<li>Open the <b>Resource Editor</b>
<li>Select the <b>Callbacks</b> (or Connections) filter
<li>Open <b>Resource Editor Menu</b>:
<ul>
<li>by pushing on the <b>More</b> button
<li>or by pushing Mouse Button 3 (<b>right</b> button) on the Callback
Value you want to change in the list
</ul>
</ul>
Note: this feature is incomplete in the current version. It will be
completed in the next release of the system.


<h3>Conditional Evaluation</h3>
<p>
Conditional Evaluation provides a way to <b>re-evaluate</b> dynamically
a <b>sub-tree of XXL objects</b> when a certain condition is satisfied 
(i.e. when a certain event occurs on a certain widget). 
<b>Cond</b> objects work in the same way as <b>Callback</b>
objects, except that they re-evaluate their child objects (that can
be sub-trees of objects) instead of calling a call-back function.
<p>
Combined with <b>Set</b> objects (as children) they provide a simple way
to change dynamically the resources of other widgets. Moreover, they can 
also be used to create new widgets or new Interface <b>Instances</b>
at run-time.
<p>
<b>Cond</b> objects can be handled in a direct manipulation style
like other XXL objects. They can also be modified in the same way
as callback object through the <b>Resource Editor</b>, the <b>Source
Code Editor</b> or by changing their condition value in the <b>InfoBox</b>.

<p><img src="//www.enst.fr/gif/lignes/rouj.gif">

<a name="TextView">
<h2>7.  Editing the Text View</h2>
</a>
<p>
The <i>Text View</i> is only displayed upon request. Each source file (C, C++ or 
XXL Script file) corresponds to a separate Text window. 
To open the Text View that contains a given object:
<ul>
<li>
push with Mouse Button 3 (<b>right</b> button) on the icon to open the Icon Menu
<li>
then click on <b>Text</b>.
</ul>
</ul>
Alternate ways: Select icon then type <b>Control-T</b>,  or open the <b>View Menu</b>
then click on  <b>Text</b>.
<p>
The Text View is sensitive: clicking on the source code that corresponds to an XXL object
will automatically select this object (more precisely, all the text that is actually
included in this object will be selected, possibly including child objects).
<p>
The Text View also works in an "hyper-textual" fashion:
clicking on variable that refers to another object will automatically scroll the text
and select this object. Finally, note that clicking with Mouse Button 3 (<b>right</b> button)
on the text will open the corresponding a pop-up Menu that is similar to the
Icon Menu in the Graph View.
<p>

<img hspace=100 src="http://www.enst.fr/~elc/XXL/Builder/sourceedit.gif">

<h3>Changing the Source Code</h3>
<p>
The source code displayed in the Text View can be modified in two different ways:
<ul>
<li>
by changing the corresponding Graph View
<li>
by changing the Text directly
</ul>
The text is incrementally modified in facsimile way when changing the Graph View:
its content is actually changed on the spot so that their original structure can be preserved
(including comments).
<p>
You can also change the source code textually in the following way:
<ul>
<li>
Select an object by clicking on its source code in the Text View
(or by clicking on the corresponding icon or control-clicking on the corresponding Widget)
<li>
Click on <b>Edit</b> to open the <b>Source Code Editor</b>
<li>
Change the text then click on <b>Apply</b> to apply changes
</ul>
The Graph View and the Widget View will then be updated if the entered text
is syntactically and semantically correct. Otherwise, errors will be displayed
in an Error Dialog Box.

<p><img src="//www.enst.fr/gif/lignes/rouj.gif">

<a name="Saving">
<h2>8.   Saving an Interface</h2>
</a>
<ul>
<li>
Select the <b>Interface</b> object of the GUI you want to save (the Interface object
must be at the top of the hierarchy. If not the case: add an Interface object to the top
of your object tree).
<li>
open the pop-up menu that is  associated to the Interface object by pushing Mouse Button 3
<li>
click on the <b>Save / Make</b> button.
</ul>
Alternate way: Select Interface icon then type <b>Control-S</b>
<p>
A newly created Interface (i.e. by using the Visual Builder) can either be saved
as an interpretable <b>XXL Script file</b> or as a compilable <b>C/C++ file</b>.
In the latter case, the XXL Builder can optionally add an appropriate <b>main function</b>
to the C file and generate a standard <b>Makefile</b>.
Note that XXL GUI descriptions in the source code are exactly the same in both cases
except that additional source code is added when generating a C file.
<p>
XXL Interfaces loaded from <b>Script files</b> (see next section) can also either be saved
in Script or in C/C++ files.
By opposition, XXL Interfaces that come from C programs
can only be saved in C files (in other words, it is not possible to convert C files
into Script files but the opposite is true). However, Interface subparts can freely be exchanged
between separate Interface hierarchies (no matter the kind of source file 
they are actually located in).

<p><img src="//www.enst.fr/gif/lignes/rouj.gif">

<h2><a name="Loading">
9.  Loading an XXL Script or a C/C++ Program
</a></h2>
<p>
Any <b>C</b>, <b>C++</b> or <b>XXL Script</b> file that contains XXL Interface 
descriptions can be edited by using the XXL Visual Builder . 
There is no restriction on the way this file was initially produced: it may have 
be written by a programmer, generated 
by the XXL Builder (or by any another tool) or both. 
XXL descriptions can always be re-interpreted by the XXL Builder, 
no matter in which file they were initially located.
The only mandatory condition is that XXL textual descriptions follow the 
XXL specific syntax.

<h3>Loading XXL Script Files</h3>
<p>
It is possible to load as many XXL Script files as needed so that
several interfaces can be created and edited simultaneously. 
There are three possible way to load Script files:
<ul>
<li>
Open the <b>File Menu</b> then click on <b>Load</b> and then on <b>Load Script</b>,
<li>
Open the <b>Graph View Menu </b> (<b>right</b> button on background)
then click on <b>Load Script</b>,
<li>
type <b>Control-L</b>
</ul>
Two possible cases:
<ul>
<li>
The Interface contained in the Script file is correct in which case 
the <i>Graph View</i> and the <i>Widget View</i> will be properly updated
and Visual Edition can be performed,
<li>
There are errors in the Script file that will be shown in a specific 
dialog box.
</ul>
<b>! Notes:</b>
<ul>
<li>
newly created Interfaces are incrementally added to the <b>Interface Menu</b>.
This list provides the user with a way to find back all existing Interfaces
at a given time.
<li>
Interface <i>subparts</i> can be exchanged at will between object trees and 
between all (Script or C) files. But the <b>Interface</b> object by itself 
is the only XXL object that can <b>not</b> be moved from one file to a 
different one.
</ul>

<h3>Loading  C and C++ Programs</h3>
<p>
By opposition to Script Files, C and C++ programs can not be loaded dynamically 
<i>once the XXL Builder has been started</i>. Instead, you must:
<ul>
<li>
compile your C program with the proper library (see Compilation Notes below)
<li>
run this program with option <b>-build</b>:
<br>
For instance, if your program name is "something", enter command:
<pre>
	 <tt>$  something  -build</tt>
</pre>
on the Unix Shell (you could also run "something" from your favorite debugger tool).
</ul>
This command will actually start your program <b>and</b> the XXL Builder
at the same time. The Builder is then ready to edit:
<ul>
<li>
all the XXL Interfaces included in the C files that composes the application,
<li>
any needed XXL Script file (that you may want to load dynamically)
</ul>
<p>
Interfaces are not implicitly edited (their Graph View and their Text View are not
automatically created) in order to avoid unnecessary computation time.
To edit a given Interface you must either:
<ul>
<li>
Open the <b>Interfaces Menu</b> (located in the Menu Bar) then choose the
Interface instance you want to open
<li>
Control-click on any of the widgets of this interface.
</ul>
The builder will then show the visual representation 
of the selected interface (the Graph View) and establish the 
correspondence between the graph of XXL objects and the 
original source code that produced this interface (the Text View).
<p>
<b>! Notes : </b>
<ul>
<li>
This behavior is dynamical: Interfaces can be created and instantiated
at any time by the C/C++ program (they do not need to be all created at initialization
time). So, the <b>Interfaces Menu</b> is dynamically updated when new interfaces
are created by the program (or when loading new Script files)
<li>
In the current version of the system,
all C/C++ sources files <b>that must be edited</b> (i.e that contain XXL Interfaces 
or call-back functions) must be located in the <b>current directory</b> 
(that is to say in the directory where the program was started). Other files will not be edited.
Moreover, these files <b>must not have been changed</b> since compilation
(otherwise the connection between the XXL objects and their original source code
would be lost)
</ul>

<h3>Compilation Notes</h3>
<p>
There a two different ways to compile C and C++ programs:
<ul>
<li>
Programs compiled with label <b>-DNO_BUILDER</b> and with library <b>Xl.a</b>
<i><b>cannot</b></i> be edited visually,
<li>
Programs compiled <b>without this label</b> and with library <b>Xl.a <i>AND</i></b>
library <b>Xlb.a <i>can</i></b> be edited by using the Visual Builder
</ul>
The first compilation mode is intended for "final use", while the second mode
must only be used during the iterative development process.

<p><img src="//www.enst.fr/gif/lignes/rouj.gif">

<a name="Panic">
<h2>10.  Don't Panic Section and Other Tips</h2>
</a>
<h3>If the XXL Builder is blocked ...</h3>
There is no feedback when clicking on widgets and:
<ul>
<li>
Other X-Window applications are no blocked: 
<p>
it is likely that a Modal Dialog Box is opened somewhere (but it may be hidden
by another window). Find and close this Dialog Box !
<p>
<li>
Other  X-Window applications are also blocked:
<p>
The mouse pointer is probably be grabbed in which case pressing on 
the <b>ESCAPE</b> key should release the grab
</ul>
Sending Unix Signal <b>SIGINT</b> (Interrupt =<b> Control-C</b>) may also
 unlock the XXL Builder in certain cases (and without crashing the application: see below).

<h3>Signal Protection</h3>
<p>
The Builder is protected against most <b>Unix Signals</b> (including SIGINT; 
usually = <b>Control-C</b>) and X-Window Error Handlers.
A Dialog Box should normally pop up to ask the user whether he/she wants to
continue or to exit the application. However:
<ul>
<li>
this protection is released after receiving several (about 10) successive Unix Signals
<p><li>
Signal <b>SIGQUIT</b> (usually = <b>Control-\</b>) is only protected 
<b>one time</b> (typing two successive Control-\ will abort the program)
</ul>

<h3>X-Window Server and Window Managers</b>
<ul>
<li>
The version of the X-Window Server should be >= X11R5.
<p><li>
XXL has been designed for Motif 1.2 (and seems to work fine with CDE).
Avoid old versions of the Motif toolkit (for instance Motif 1.2.0): they contain
an incredible number of bugs !
<p><li>
Avoid non standard window managers: XXL works fine with mwm (Motif),
dtwm (CDE), olwm and olvwm (Openlook),  fvwm (if properly configured!). 
But <b>do not use</b> ctwm unless you want to crash your X Server !
<p><li>
Backing Store is required in the current version of the XXL Builder
</ul>

<h3>Source files can't be Edited</b>
<p>
All source files you want to edit must be located in the <b>current
directory</b> (the directory where you started the Builder or your C
program with option -build). Other files may be located anywhere
in the file system.
<p>
Moreover, your program must have been compiled with the proper option
and the proper library (see Section 9: <a href="#Loading">
Loading an XXL Script or a C/C++ Program</a> 
and subsection <i>Compilation Notes</i>
<p>

<h3>Using Emacs to Edit Source Code</h3>
<p>
A few tips when using the <b>Emacs</b> text editor to edit XXL interfaces:
<ul>
<li>
if you are editing a C or a C++ file:
<p>
Emacs should logically be in <b>C-mode</b> (if you opened your file with
the appropriate extension). This means that pressing on the <b>TAB</b> key will
automatically <b>indent the source code</b> (this is specially useful when editing
XXL pseudo-lists).
Emacs should also show the correspondence between starting and ending parenthesis
(if set in the appropriate mode with the appropriate option).
<p>
<li>
if you are editing an XXL Script file:
<p>
You can explicitly set Emacs in C-mode by entering the following command:
<pre>
	<tt><b>Escape X</b> then <b>c-mode</b>.</tt>
</pre>
</ul>
<p>

<img src="//www.enst.fr/gif/lignes/rouj.gif">
<address>
<img align=middle src="//www.enst.fr/~elc/gif/palette.gif"> 
Page maintained by <a href="http://www.enst.fr/~elc">Eric Lecolinet</a>
 <i><a href="mailto:elc@enst.fr">(elc@enst.fr)</a></i>. Jan 97. 

</body>
</html>


