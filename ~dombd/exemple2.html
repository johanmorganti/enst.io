<H2> <CENTER> Controle de connaissance <BR>
Dominante Informatique - Module Bases de Données <BR>
Vendredi 13 décembre 1996</CENTER> </H2>

<P>
Durée 1h30. Documents autorisés.
<P> 
Bon courage...


<H3> A- Modélisation </H3>

Une compagnie d'assurance veut utiliser un SGBD pour stocker ses
contrats d'assurances de voiture. Une police d'assurance est souscrite
par une seule personne mais peut concerner plusieurs vehicules. Chaque
véhicule doit avoir un conducteur principal qui peut être différent de
l'assuré lui-même. Chaque véhicule peut être assuré sous un régime
particulier (tous risques, tiers...). Le coefficient de bonus est
propre au véhicule pour une police d'assurance donnée. Une personne ne
peut pas être conducteur principal de plus d'une voiture pour une même
police d'assurance.


<P>
On propose la relation universelle suivante.

<P>
<STRONG> Assurance </STRONG> (NumAssurance, NumPersonne,
Nom, Prenom, Adresse, NumAssuré, NumCond, NumImmat, TypeAss, Bonus)

<P>
où NumAss est le numéro de la police d'assurance; NumPersonne, Nom,
Prénom et Adresse les coordonnées de toutes les personnes connues par
la compagnie, assurés ou conducteurs; NumAssuré et NumCond sont
respectivement les numéros des personnes en tant qu'Assuré ou en tant
que conducteur; NumImmat le numéro d'immatriculation d'une voiture;
TypeAss et Bonus le type d'assurance et le bonus du vehicule pour une
police particulière.

<P> Dans un premier temps, nous supposerons que les numéros de
conducteur et d'assurés correspondent de façon univoque au numero de
personne (et inversement) mais qu'ils peuvent avoir des valeurs
différentes.

<UL>

<LI> Donner la liste des dépendances fonctionnelles en les validant
par les hypothèses de l'énoncé ou par des hypothèses supplémentaires
que vous ne manquerez pas de préciser. En particulier, vous vous
interrogerez sur les points suivants, à savoir si un assuré peut ou
non souscrire plusieurs polices d'assurances différentes, si une
voiture peut ou non être assurée plusieurs fois sous la même police
d'assurance, sous des polices d'assurance différentes, etc.

<LI>
Donner une cle de la relation Assurance.

<LI> Proposer une décomposition en 3 FN, sans perte et qui preserve
les DFs.

<LI> On suppose maintenant que les personnes ont des numéros
identiques en tant que personne, assuré ou conducteur. Comment pouvez
vous alors simplifier votre schéma. Auriez vous obtenu la même
décomposition en supprimant les attributs NumCond et NumAssure de la
relation universelle. Donnez une explication.

</UL>

<H3> B- requêtes relationnelles  </H3>

Pour avoir le droit d'accès à une machine Unix de l'école, il faut
être individuellement déclaré comme ayant un droit d'accès à cette
machine, ou bien appartenir à un groupe d'utilisateurs (dit net-group)
qui a lui même accès à la machine. Bien entendu, ces possibilités ne
sont pas exclusives l'une de l'autre.

<P> Les informations concernant ces droits d'accès sont stockées dans
le schéma relationnel suivant:

<BR> 

<STRONG> host </STRONG> (hostid, hostname) 

<BR>

<STRONG>user </STRONG> (userid, login, name, firstname)

 <BR> 

<STRONG> netgroup </STRONG>  (netgrpid, userid) 

<BR>

<STRONG> Accessgroup </STRONG> (netgrpid, hostid)

 <BR> 

<STRONG> Accessuser </STRONG> (userid, hostid)

<H4> B1- Requêtes relationnelles </H4>

<P> Répondre en SQL aux questions suivantes :

<UL>

<LI> Quels sont les utilisateurs qui ont accès a "erebe" ?

<LI> Quels sont les utilisateurs qui ont à la fois un accès groupé et
un accès individuel à "erebe"?

<LI> Quels sont les utilisateurs ayant accès à toutes les machines?


</UL>

<P>
Donner l'arbre algébrique pour la 3eme question.

<H4> B2- Vues </H4>

<UL>

<P>
<LI> Créer la vue indiquant les machines qui ne sont accessibles à
personne ?

<BR> Peut on la mettre à jour ? Pourquoi ?

<P> <LI> Créer la vue qui donne les machines dont le nombre
d'utilisateurs autorisés est inférieur à 20. On prendra garde à ne
compter chaque utilisateur qu'une seule fois.


<BR> Peut on mettre à jour cette vue ? Pourquoi ?

</UL>

<H3> C- questions diverses </H3>

Répondez en deux lignes aux questions suivantes :

<UL>

<LI> Etant données une relation universelle, et une décomposition de
cette relation universelle qui préserve les DFs. Si cette
décomposition n'est pas sans perte, que suffit il de faire pour la
rendre sans perte ?

<LI> Etant données une relation universelle, et une décomposition de
cette relation universelle qui est sans perte, cette décomposition
préserve-t-elle obligatoirement les DFS ?


</UL>


