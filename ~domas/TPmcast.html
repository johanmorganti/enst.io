<html>
<head>
<title>TP Multicast</title>
</head>

<body bgcolor="#dddddd">

<img src="/gif/grandvertjaune.gif">

<center>
<h1>TP Multicast</h1>
<p>
<b>
Module SOI<br>
1995-96-97
</b>
<p>
<b><i>Philippe Dax, Bertarnd Dupouy</i></b>
</center>

<img src="/gif/grandvertjaune.gif">
<p>
<center><b>SOMMAIRE</center></b>

<h3>
<ul>
<li><a href="#note">Note pr&eacute;liminaire</a>
<li><a href="http://www.enst.fr/~dax/polys/multicast/">Documentation sur la programmation Multicast</a>
<li><a href="#RTFToC6">Exercice 1 : Communication de groupe </a>
<li><a href="#RTFToC7">Exercice 2 : Multicast et unicast </a>
</ul>
</h3>
<p>
<img src="/gif/grandvertjaune.gif">
<p>

<a name="note"></a>
<h3>Note pr&eacute;liminaire</h3>

<!--
<b>Les fichiers sources des exemples sont dans: <tt>~domas/mcastdir/sockdir</tt>.
</b><p>
-->
Sur une machine Solaris, ajouter
&agrave; l'&eacute;dition de liens :
<menu>
   <tt>-lnsl</tt> (pour htons...) <br>
   <tt>-lsocket</tt> (pour les sockets) <br>
</menu>
<p>
On enverra le(s) fichier(s) source(s) traitant l'exercice et le <tt>Makefile</tt>
permettant leur bonne utilisation &agrave;:<br>
<center>
dax@inf<br>
ou<br>
dupouy@inf<br>
</center>

<br>
Le texte du message d'envoi doit contenir la cha&icirc;ne <tt>TPMCAST</tt>

<img src="/gif/grandvertjaune.gif">

<h3>
<a name="RTFToC6">Communication de groupe</a>
</h3>

Le but de l'application est d'&eacute;crire un outil de conversation interactif textuel, du type IRC,  &agrave; l'int&eacute;rieur d'un groupe.
Chaque message tap&eacute; au clavier et envoy&eacute;
par un utilisateur <tt>"u1"</tt> &agrave; partir d'un host <tt>"h1"</tt>
est re&ccedil;u par tous
les autres membres qui ont joint le groupe, sous la forme :<p>
<pre>
	[u1@h1] message de u1
</pre>
<p>
Pour ce faire, il faut utiliser 
<tt>setsockopt</tt> de la fa&ccedil;on suivante :
<ul>
<li>Pour joindre:<br><tt>setsockopt(sock, IPPROTO_IP, IP_ADD_MEMBERSHIP, ... )</tt>
<li>Pour diffuser:<br><tt>setsockopt(sock, IPPROTO_IP, IP_MULTICAST_TTL, ... )</tt>
</ul>
<p>

<a href ="/~dax/polys/multicast_api/index.html">
Pour obtenir plus de d&eacute;tails  : cliquez ici !
</a>


<p>Pour comprendre la mise en oeuvre d'une communication de groupe
utilisant le Multicast on vous demande de compl&eacute;ter (et 
&eacute;ventuellement d'am&eacute;liorer !) le code 
dont on donne le squelette dans le fichier <tt>mcast.c</tt>.
Vous devez remplacer les chaines "..." par les bonnes valeurs.
<br>
<p>
<a href="/~domas/mcastdir/mcast.c">Cliquez ici pour consulter <tt>mcast.c</tt>
</a>
Faire un "save as" sous Netscape pour r&eacute;cup&eacute;rer ce fichier.
<p>

<img src="/gif/grandvertjaune.gif">

<h3>
<a name="RTFToC7">Multicast et Unicast</a>
</h3>

<p>
On vous demande maintenant d'enrichir le code pr&eacute;c&eacute;dent de l'une (au moins) des fa&ccedil;ons suivantes :
<ul>
<li>Maintenir une liste des participants soit un utilisant le multicast soit en utilisant l'unicast (au choix)
<!--
<li>lorsqu'un membre du groupe re&ccedil;oit un paquet il l'acquitte en envoyant un accus&eacute; de r&eacute;ception sur le port 10000 (datagramme) de l'&eacute;metteur,
 -->
</ul>
<p>

<img src="/gif/grandvertjaune.gif">
<address>&copy; (Copyright) <a href="mailto:dax@inf.enst.fr">Philippe Dax</a> - 1996-1997</address>

</body></html>
